<!doctype html>
<html lang="en">
<head>
	<title>CompleteConceptStrength Athlete Homepage</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, user-scalable=no">
    <script src="bower_components/jquery-ajax-only/jquery-ajax-only.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="bower_components/angular/angular.min.js"></script>
 	<script src="bower_components/angular-route/angular-route.min.js"></script>
    <script src="bower_components/store.js/store.min.js"></script>
    <script src="scripts/app.js"></script>
	<script src="scripts/services/userService.js"></script>
	<script src="scripts/services/userConnectionService.js"></script>
    <script src="scripts/controllers/homepageCtrl.js"></script>

	<link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="styles/main.css" rel="stylesheet" type="text/css">
    <link href="styles/homepage.css" rel="stylesheet" type="text/css">
</head>

<body ng-app="homepageModule" ng-controller="homepageCtrl" ng-init="loadHomepage()">
    <div class="container">
        <div class="row top-bar">
            <form name="notificationsForm" class="col-xs-4">
                <button type="button" class="btn btn-primary" ng-click="notifications()">Notifications <span class="badge">{{notifications}}</span></button>
            </form>
            <h1 class="col-xs-4">Welcome {{username}}</h1>
            <form name="logoutForm" class="col-xs-4">
                <input type="button" class="btn btn-primary" ng-click="logout()" value="Logout"/>
            </form>
        </div>
        
        <div class="main-block">
            <ul class="nav nav-pills nav-justified">
                <li class="active"><a data-toggle="tab" href="#prescription">Prescription</a></li>
                <li><a data-toggle="tab" href="#connect" ng-click="loadAllConnections()">Connect</a></li>
                <li><a data-toggle="tab" href="#settings">Settings</a></li>
            </ul>
            
            <div class="tab-content">
                <div id="prescription" class="tab-pane fade in active">
                    <h2>Calendar</h2>
                    <input type="button" class="btn btn-primary" ng-click="swapView()" value="{{calendarView}}" />
                </div>
                <div id="connect" class="tab-pane fade">
					<h2 class="left-aligned">Find Connections</h2>
					<div class="input-group col-sm-4">
                        <input type="text" class="form-control" placeholder="Search users by name, email or organization" name="srch-term" id="srch-term" ng-model="searchText">
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit" ng-click="searchConnections(searchText)"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                    <br>

                    <div ng-show="results">
                    	<h2 class="left-aligned">Results</h2>
                    </div>

                    <div ng-hide="searchText.length">
						<h2 class="left-aligned">Pending</h2>
						<table class="table table-connect">
							<tbody>
							  <tr ng-repeat="connection in pendingConnections">
								<td class="col-sm-1"> 
									<img src="images/default_profile_pic.jpg" alt="Profile Pic" style="width: 100px; height: 100px;">
								</td>
								<td>{{connection.user.firstName}} {{connection.user.lastName}}
								<br>{{connection.user.email}}
								<br>{{connection.user.organization}}</td>
								<td class="last-row">            
									<div class="btn-group-vertical">
										<input type="button" class="btn btn-primary btn-connect" ng-click="positiveActionConnection()" value="{{connection.userConnectionStatus.positiveAction}}"/>
										<div style="line-height:75%;">
										    <br>
										</div>
										<input type="button" class="btn btn-primary btn-connect" ng-click="negativeActionConnection()" value="{{connection.userConnectionStatus.negativeAction}}"/>
									</div>
								</td>
							  </tr>
							</tbody>
						</table>

						<h2 class="left-aligned">Existing</h2>
						<table class="table table-connect">
							<tbody>
							  <tr ng-repeat="connection in existingConnections">
								<td class="col-sm-1"> 
									<img src="images/default_profile_pic.jpg" alt="Profile Pic" style="width: 100px; height: 100px;">
								</td>
								<td>{{connection.user.firstName}} {{connection.user.lastName}}
								<br>{{connection.user.email}}
								<br>{{connection.user.organization}}</td>
								<td class="last-row">            
									<div class="btn-group-vertical">
										<input type="button" class="btn btn-primary btn-connect" ng-click="positiveActionConnection()" value="{{connection.userConnectionStatus.positiveAction}}"/>
										<div style="line-height:75%;">
										    <br>
										</div>
										<input type="button" class="btn btn-primary btn-connect" ng-click="negativeActionConnection()" value="{{connection.userConnectionStatus.negativeAction}}"/>
									</div>
								</td>
							  </tr>
							</tbody>
					    </table>
					</div>
                </div>
                <div id="settings" class="tab-pane fade">
                    <h2>Settings</h2>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
